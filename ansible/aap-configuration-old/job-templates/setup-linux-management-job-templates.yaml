---
- name: Create Ping Test Job Template
  ansible.controller.job_template:
    name: "Linux Management - Ping Test"
    description: "Connectivity test for Terraform HCP EC2 VMs using ping module"
    job_type: "run"
    inventory: "Terraform HCP VMs"
    project: "{{ project_name }}"
    playbook: "ansible/linux-management/ping-test.yaml"
    execution_environment: "{{ execution_environment_name }}"
    organization: "{{ default_organization }}"
    credentials:
      - "ssh-machine-credential"
    ask_limit_on_launch: true
    ask_variables_on_launch: false
    limit: "os_type_Linux"
  tags: [job-templates, linux-management]

- name: Create PCI-DSS Compliance Job Template
  ansible.controller.job_template:
    name: "Linux Management - PCI-DSS Compliance"
    description: "Apply PCI-DSS compliance configuration based on RHEL version (7, 8, or 9)"
    job_type: "run"
    inventory: "Terraform HCP VMs"
    project: "{{ project_name }}"
    playbook: "ansible/linux-management/pci-dss.yaml"
    execution_environment: "{{ execution_environment_name }}"
    organization: "{{ default_organization }}"
    credentials:
      - "ssh-machine-credential"
    ask_limit_on_launch: true
    ask_variables_on_launch: false
    limit: "os_type_Linux"
    verbosity: 1
  tags: [job-templates, linux-management, compliance, pci-dss]
